<!DOCTYPE html>

<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->

<head>
    <meta charset="utf-8">
<!--[if IE]><meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'><![endif]-->
<meta name="viewport" content="width=device-width,initial-scale=1">

<link rel="icon" type="image/png" href="/assets/images/favicon.png" />
<link href="/assets/images/favicon.png" rel="shortcut icon" type="image/png">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>操作系统基础 | Cuner</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="操作系统基础" />
<meta property="og:locale" content="en" />
<meta name="description" content="操作系统基础" />
<meta property="og:description" content="操作系统基础" />
<link rel="canonical" href="http://localhost:4000/blog/0001/01/02/operating-system/" />
<meta property="og:url" content="http://localhost:4000/blog/0001/01/02/operating-system/" />
<meta property="og:site_name" content="Cuner" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="0001-01-02T00:00:00+08:00" />
<script type="application/ld+json">
{"description":"操作系统基础","@type":"BlogPosting","url":"http://localhost:4000/blog/0001/01/02/operating-system/","headline":"操作系统基础","dateModified":"0001-01-02T00:00:00+08:00","datePublished":"0001-01-02T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/blog/0001/01/02/operating-system/"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

<meta name="keywords" content="学习清单" />





<link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Cuner" />
    <link href='/assets/stylesheets/blog.css' rel="stylesheet" type="text/css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
<script>window.Modernizr || document.write('<script src="/assets/javascripts/modernizr-2.8.3.min.js"><\/script>')</script>

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
    window.jQuery || document.write('<script src="/assets/javascripts/jquery-3.2.1.min.js"><\/script>')
</script>

<script src="//cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/pace.min.js"></script>
<script>
    window.Pace || document.write('<script src="/assets/javascripts/pace.min.js"><\/script>')
</script>


</head>

<body>
    <!--[if IE]>
    <p class="site-notice">You are using an outdated browser. Please <a href="http://browsehappy.com/" target="_blank">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true" target="_blank">activate Google Chrome Frame</a> to improve your experience.</p>
<![endif]-->
<noscript>
    <p class="site-notice">This site requires JavaScript. Here are the instructions <a href="http://www.enable-javascript.com/" target="_blank">how to enable JavaScript in your web browser</a>.</p>
</noscript>

    <div class="nav-wrapper overlay-wrapper">
    <div class="nav-form overlay-form">
        <span class="overlay-header menu">Menu</span>
        <a class="btn-close">Close</a>
        <div class="results">
            <ul>
                <li><a href="/blog/categories/">Categories</a></li>
                <li><a href="/blog/tags/">Tags</a></li>
                <li><a href="/">About</a></li>
            </ul>
        </div>
    </div>
</div>

<div class="search-wrapper overlay-wrapper">
    <div class="search-form overlay-form">
        <input type="text" class="overlay-header search-field" placeholder="Search...">
        <a class="btn-close">Close</a>
        <ul class="results"></ul>
    </div>
</div>


    <div id="page" class="hentry">
        <header class="the-header">
    <div class="unit-head">
        <div class="unit-inner unit-head-inner">
            <nav class="nav-global">
                <ul>
                    <li class="logo nav-link">
                        <button class="btn-menu" title="Menu"></button>
                        <a href="/blog/">Cuner</a>
                        <!--[if !IE]> -->
                        <button class="btn-search" title="Search"></button>
                        <!-- <![endif]-->
                    </li>
                    <li class="nav-link"><a title="Categories" href="/blog/categories/">Categories</a></li>
                    <li class="nav-link"><a title="Tags" href="/blog/tags/">Tags</a></li>
                    <!--[if !IE]> -->
                    <li class="nav-link"><a title="Search" class="btn-search" href="#">Search</a></li>
                    <!-- <![endif]-->
                </ul>
            </nav>
        </div>
    </div>
</header>


        <div class="body animated fadeInDown" role="main">
            <div class="unit-body">
                <div class="unit-inner unit-body-inner">
                    <div class="entry-content">
                        <article class="unit-article layout-post">
    <div class="unit-inner unit-article-inner">
        <div itemscope itemtype="http://schema.org/Article" class="content">
            <header>
                <div class="unit-head">
                    <div class="unit-inner unit-head-inner">
                        <h1 class="entry-title" itemprop="name">操作系统基础</h1>
                    </div>
                </div>
            </header>
            <div class="bd article-content">
                <div class="entry-content">
                    <div class="meta">
                        <p class="date-publish">
                            Published:
                            <time itemprop="datePublished" class="date-pub updated"
                                title="0001-01-02T00:00:00+08:00" datetime="0001-01-02T00:00:00+08:00">January 02, 0001 </time>
                            by
                            <a class="author" href="/" rel="author" title="Show Author">
                                <span itemprop="author" itemscope itemtype="http://schema.org/Person">
                                    <span itemprop="name"></span>
                                </span>
                            </a>
                            
                            
                        </p>
                        <ul class="list-category list-linear">
                            <li class="list-head">Categories: </li>
                             
     
        <li>
            <a href="/blog/categories/#学习清单" title="学习清单">
            学习清单 <span>6</span></a>
        </li>
    



                        </ul>
                        <ul class="list-tag list-linear">
                            <li class="list-head">Tags: </li>
                             
    
        
        <li>
            <a href="/blog/tags/#学习清单" title="学习清单">学习清单 <span>6</span></a>
        </li>
    




                        </ul>
                    </div>
                    <div itemprop="articleBody">
                        <ul class="toc" id="markdown-toc">
  <li><a href="#heading-1-进程和线程" id="markdown-toc-heading-1-进程和线程">1 进程和线程</a></li>
  <li><a href="#heading-2-进程间通信方式ipc" id="markdown-toc-heading-2-进程间通信方式ipc">2 进程间通信方式IPC</a>    <ul>
      <li><a href="#heading-21-管道pipe" id="markdown-toc-heading-21-管道pipe">2.1 管道pipe</a></li>
      <li><a href="#heading-22-信号" id="markdown-toc-heading-22-信号">2.2 信号</a></li>
      <li><a href="#heading-23-消息队列" id="markdown-toc-heading-23-消息队列">2.3 消息队列</a></li>
      <li><a href="#heading-24-共享内存share-memory" id="markdown-toc-heading-24-共享内存share-memory">2.4 共享内存(share memory)</a></li>
      <li><a href="#heading-25-信号量semaphores" id="markdown-toc-heading-25-信号量semaphores">2.5 信号量(Semaphores)</a></li>
      <li><a href="#heading-26-套接字sockets" id="markdown-toc-heading-26-套接字sockets">2.6 套接字(Sockets)</a></li>
    </ul>
  </li>
  <li><a href="#heading-3-用户态和核心态" id="markdown-toc-heading-3-用户态和核心态">3 用户态和核心态</a>    <ul>
      <li><a href="#heading-31-用户态" id="markdown-toc-heading-31-用户态">3.1 用户态</a></li>
      <li><a href="#heading-32-核心态" id="markdown-toc-heading-32-核心态">3.2 核心态</a></li>
      <li><a href="#heading-33-为什么要有用户态和内核态" id="markdown-toc-heading-33-为什么要有用户态和内核态">3.3 为什么要有用户态和内核态</a></li>
      <li><a href="#heading-34-用户态切换到内核态的3种方式" id="markdown-toc-heading-34-用户态切换到内核态的3种方式">3.4 用户态切换到内核态的3种方式</a></li>
    </ul>
  </li>
  <li><a href="#heading-4-操作系统的进程空间" id="markdown-toc-heading-4-操作系统的进程空间">4 操作系统的进程空间</a></li>
  <li><a href="#heading-5-操作系统内存管理" id="markdown-toc-heading-5-操作系统内存管理">5 操作系统内存管理</a>    <ul>
      <li><a href="#heading-51-分段管理" id="markdown-toc-heading-51-分段管理">5.1 分段管理：</a></li>
      <li><a href="#heading-52-分页管理" id="markdown-toc-heading-52-分页管理">5.2 分页管理：</a></li>
      <li><a href="#heading-53-段页式管理" id="markdown-toc-heading-53-段页式管理">5.3 段页式管理：</a></li>
    </ul>
  </li>
  <li><a href="#heading-6-页面置换算法fifolru" id="markdown-toc-heading-6-页面置换算法fifolru">6 页面置换算法FIFO、LRU</a>    <ul>
      <li><a href="#heading-61-先进先出fifo" id="markdown-toc-heading-61-先进先出fifo">6.1 先进先出FIFO</a></li>
      <li><a href="#heading-62-最近最久未使用lru" id="markdown-toc-heading-62-最近最久未使用lru">6.2 最近最久未使用LRU</a></li>
      <li><a href="#heading-63-最佳置换算法opt" id="markdown-toc-heading-63-最佳置换算法opt">6.3 最佳置换算法OPT</a></li>
    </ul>
  </li>
  <li><a href="#heading-7-死锁条件解决方式" id="markdown-toc-heading-7-死锁条件解决方式">7 死锁条件、解决方式</a>    <ul>
      <li><a href="#heading-71-死锁的条件" id="markdown-toc-heading-71-死锁的条件">7.1 死锁的条件</a></li>
      <li><a href="#heading-72-解决方法破坏死锁的任意一条件" id="markdown-toc-heading-72-解决方法破坏死锁的任意一条件">7.2 解决方法：破坏死锁的任意一条件</a></li>
    </ul>
  </li>
</ul>

<h1 id="heading-1-进程和线程">1 进程和线程</h1>
<ul>
  <li><strong>进程</strong>：是资源分配的最小单位，一个进程可以有多个线程，多个线程共享进程的堆和方法区资源，不共享栈、程序计数器</li>
  <li><strong>线程</strong>：是任务调度和执行的最小单位，线程并行执行存在资源竞争和上下文切换的问题</li>
  <li><strong>协程</strong>：是一种比线程更加轻量级的存在，正如一个进程可以拥有多个线程一样，一个线程可以拥有多个协程。</li>
</ul>

<h1 id="heading-2-进程间通信方式ipc">2 进程间通信方式IPC</h1>
<h2 id="heading-21-管道pipe">2.1 管道pipe</h2>
<p>亲缘关系使用匿名管道，非亲缘关系使用命名管道，管道遵循FIFO，半双工，数据只能单向通信；</p>

<h2 id="heading-22-信号">2.2 信号</h2>
<p>信号是一种比较复杂的通信方式，用户调用kill命令将信号发送给其他进程。</p>

<h2 id="heading-23-消息队列">2.3 消息队列</h2>
<p>消息队列克服了信号传递信息少，管道只能承载无格式字节流以及缓冲区大小受限等特点。</p>

<h2 id="heading-24-共享内存share-memory">2.4 共享内存(share memory)</h2>
<ul>
  <li>使得多个进程可以可以直接读写同一块内存空间，是最快的可用IPC形式。是针对其他通信机制运行效率较低而设计的。</li>
  <li>由于多个进程共享一段内存，因此需要依靠某种同步机制（如信号量）来达到进程间的同步及互斥。</li>
</ul>

<h2 id="heading-25-信号量semaphores">2.5 信号量(Semaphores)</h2>
<p>信号量是⼀个计数器，⽤于多进程对共享数据的访问，这种通信⽅式主要⽤于解决与同步相关的问题并避免竞争条件。</p>

<h2 id="heading-26-套接字sockets">2.6 套接字(Sockets)</h2>
<p>简单的说就是通信的两⽅的⼀种约定，⽤套接字中的相关函数来完成通信过程。</p>

<h1 id="heading-3-用户态和核心态">3 用户态和核心态</h1>
<h2 id="heading-31-用户态">3.1 用户态</h2>
<p>只能受限的访问内存，运行所有的应用程序</p>

<h2 id="heading-32-核心态">3.2 核心态</h2>
<p>运行操作系统程序，cpu可以访问内存的所有数据，包括外围设备</p>

<h2 id="heading-33-为什么要有用户态和内核态">3.3 为什么要有用户态和内核态</h2>
<p>由于需要限制不同的程序之间的访问能力, 防止他们获取别的程序的内存数据, 或者获取外围设备的数据, 并发送到网络</p>

<h2 id="heading-34-用户态切换到内核态的3种方式">3.4 用户态切换到内核态的3种方式</h2>
<ol>
  <li>系统调用：主动调用，系统调用的机制其核心还是使用了操作系统为用户特别开放的一个中断来实现，例如Linux的int 80h中断。</li>
  <li>异常：当CPU在执行运行在用户态下的程序时，发生了某些事先不可知的异常，比如缺页异常，这时会触发切换内核态处理异常。</li>
  <li>外围设备的中断：当外围设备完成用户请求的操作后，会向CPU发出相应的中断信号，这时CPU会由用户态到内核态的切换。</li>
</ol>

<h1 id="heading-4-操作系统的进程空间">4 操作系统的进程空间</h1>
<ul>
  <li>栈区（stack）— 由编译器自动分配释放，存放函数的参数值，局部变量的值等。</li>
  <li>堆区（heap）— 一般由程序员分配释放，若程序员不释放，程序结束时可能由OS回收 。</li>
  <li>静态区（static）—存放全局变量和静态变量的存储</li>
  <li>代码区(text)—存放函数体的二进制代码。
线程共享堆区、静态区</li>
</ul>

<h1 id="heading-5-操作系统内存管理">5 操作系统内存管理</h1>

<p>存管理方式：页式管理、段式管理、段页式管理</p>

<h2 id="heading-51-分段管理">5.1 分段管理：</h2>
<p>将程序的地址空间划分为若干段（segment），如代码段，数据段，堆栈段；这样每个进程有一个二维地址空间，相互独立，互不干扰。段式管理的优点是：没有内碎片（因为段大小可变，改变段大小来消除内碎片）。但段换入换出时，会产生外碎片（比如4k的段换5k的段，会产生1k的外碎片）</p>

<h2 id="heading-52-分页管理">5.2 分页管理：</h2>
<p>在页式存储管理中，将程序的逻辑地址划分为固定大小的页（page），而物理内存划分为同样大小的页框，程序加载时，可以将任意一页放入内存中任意一个页框，这些页框不必连续，从而实现了离散分离。页式存储管理的优点是：没有外碎片（因为页的大小固定），但会产生内碎片（一个页可能填充不满）</p>

<h2 id="heading-53-段页式管理">5.3 段页式管理：</h2>
<p>段⻚式管理机制结合了段式管理和⻚式管理的优点。简单来说段⻚式管理机制就是把主存先分成若⼲段，每个段⼜分成若⼲⻚，也就是说段⻚式管理机制 中段与段之间以及段的内部的都是离散的</p>

<h1 id="heading-6-页面置换算法fifolru">6 页面置换算法FIFO、LRU</h1>
<p>置换算法：先进先出FIFO、最近最久未使用LRU、最佳置换算法OPT</p>

<h2 id="heading-61-先进先出fifo">6.1 先进先出FIFO</h2>
<ul>
  <li>缺点：没有考虑到实际的页面使用频率，性能差、与通常页面使用的规则不符合，实际应用较少</li>
</ul>

<h2 id="heading-62-最近最久未使用lru">6.2 最近最久未使用LRU</h2>
<ul>
  <li>原理：选择最近且最久未使用的页面进行淘汰</li>
  <li>优点：考虑到了程序访问的时间局部性，有较好的性能，实际应用也比较多</li>
  <li>缺点：没有合适的算法，只有适合的算法，lFU、random都可以</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * @program: Java
 * @description: LRU最近最久未使用置换算法，通过LinkedHashMap实现
 * @author: Mr.Li
 * @create: 2020-07-17 10:29
 **/</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">LRUCache</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">LinkedHashMap</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">cache</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">capacity</span><span class="o">;</span>   <span class="c1">//容量大小</span>

    <span class="cm">/**
     *初始化构造函数
     * @param capacity
     */</span>
    <span class="kd">public</span> <span class="nf">LRUCache</span><span class="o">(</span><span class="kt">int</span> <span class="n">capacity</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">cache</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LinkedHashMap</span><span class="o">&lt;&gt;(</span><span class="n">capacity</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">capacity</span> <span class="o">=</span> <span class="n">capacity</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">get</span><span class="o">(</span><span class="kt">int</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">//缓存中不存在此key，直接返回</span>
        <span class="k">if</span><span class="o">(!</span><span class="n">cache</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span><span class="n">key</span><span class="o">))</span> <span class="o">{</span>
            <span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="kt">int</span> <span class="n">res</span> <span class="o">=</span> <span class="n">cache</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
        <span class="n">cache</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>   <span class="c1">//先从链表中删除</span>
        <span class="n">cache</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">key</span><span class="o">,</span><span class="n">res</span><span class="o">);</span>  <span class="c1">//再把该节点放到链表末尾处</span>
        <span class="k">return</span> <span class="n">res</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">put</span><span class="o">(</span><span class="kt">int</span> <span class="n">key</span><span class="o">,</span><span class="kt">int</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span><span class="o">(</span><span class="n">cache</span><span class="o">.</span><span class="na">containsKey</span><span class="o">(</span><span class="n">key</span><span class="o">))</span> <span class="o">{</span>
            <span class="n">cache</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">key</span><span class="o">);</span> <span class="c1">//已经存在，在当前链表移除</span>
        <span class="o">}</span>
        <span class="k">if</span><span class="o">(</span><span class="n">capacity</span> <span class="o">==</span> <span class="n">cache</span><span class="o">.</span><span class="na">size</span><span class="o">())</span> <span class="o">{</span>
            <span class="c1">//cache已满，删除链表头位置</span>
            <span class="n">Set</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">keySet</span> <span class="o">=</span> <span class="n">cache</span><span class="o">.</span><span class="na">keySet</span><span class="o">();</span>
            <span class="n">Iterator</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">iterator</span> <span class="o">=</span> <span class="n">keySet</span><span class="o">.</span><span class="na">iterator</span><span class="o">();</span>
            <span class="n">cache</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">iterator</span><span class="o">.</span><span class="na">next</span><span class="o">());</span>
        <span class="o">}</span>
        <span class="n">cache</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">key</span><span class="o">,</span><span class="n">value</span><span class="o">);</span>  <span class="c1">//插入到链表末尾</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<h2 id="heading-63-最佳置换算法opt">6.3 最佳置换算法OPT</h2>
<ul>
  <li>原理：每次选择当前物理块中的页面在未来长时间不被访问的或未来不再使用的页面进行淘汰</li>
  <li>优点：具有较好的性能，可以保证获得最低的缺页率</li>
  <li>缺点：过于理想化，但是实际上无法实现（没办法预知未来的页面）</li>
</ul>

<h1 id="heading-7-死锁条件解决方式">7 死锁条件、解决方式</h1>
<p>死锁是指两个或两个以上进程在执行过程中，因争夺资源而造成的下相互等待的现象；</p>

<h2 id="heading-71-死锁的条件">7.1 死锁的条件</h2>
<ul>
  <li>互斥条件：进程对所分配到的资源不允许其他进程访问，若其他进程访问该资源，只能等待至占有该资源的进程释放该资源；</li>
  <li>请求与保持条件：进程获得一定的资源后，又对其他资源发出请求，阻塞过程中不会释放自己已经占有的资源</li>
  <li>非剥夺条件：进程已获得的资源，在未完成使用之前，不可被剥夺，只能在使用后自己释放</li>
  <li>循环等待条件：系统中若干进程组成环路，环路中每个进程都在等待相邻进程占用的资源</li>
</ul>

<h2 id="heading-72-解决方法破坏死锁的任意一条件">7.2 解决方法：破坏死锁的任意一条件</h2>
<ul>
  <li>乐观锁：破坏资源互斥条件，CAS</li>
  <li>资源一次性分配：从而剥夺请求和保持条件、tryLock</li>
  <li>可剥夺资源：即当进程新的资源未得到满足时，释放已占有的资源，从而破坏不可剥夺的条件，数据库deadlock超时</li>
  <li>资源有序分配法：系统给每类资源赋予一个序号，每个进程按编号递增的请求资源，从而破坏环路等待的条件，转账场景</li>
</ul>

                    </div>
                </div>
            </div>
            <footer class="unit-foot">
                <div class="unit-inner unit-foot-inner">
                    <div class="post-buttons">
                        <a class="internal gotop" href="#page" title="Back to Top">Back to Top</a>
                        
                    </div>
                    <nav class="pagination">
                        
                            <a class="internal" rel="prev" href="/blog/0001/01/01/internet-base/" title=" '网络基础'"> ← 网络基础</a>
                        
                        
                            <a class="internal" rel="next" href="/blog/0001/01/03/java-base/" title="Next Post 'java基础'">java基础 → </a>
                        
                    </nav>
                </div>
            </footer>
            <div class="misc-content">
                
            </div>
        </div>
    </div>
</article>

                    </div>
                </div>
            </div>
        </div>
        <footer class="the-footer">
    <div class="unit-foot">
        <div class="unit-inner unit-foot-inner">
            <div class="misc vcard">
                <div class="about">
                    <h4><a href="/">About</a></h4>
                    
                        <p>No zero day.</p>
                    
                    <p><small>Powered by <a href="https://jekyllrb.com/" target="_blank">Jekyll</a> and <a href="https://pages.github.com/" target="_blank">Github Pages</a>, &copy; 2018 Cuner.</small></p>
                </div>
                <div class="social-links">
                    
                    <a class="ico-rss" href="/feed.xml" rel="me" target="_blank" title="feed"></a>
                    
                        
                    
                        
                            <a class="ico-github" href="https://github.com/Cuner" rel="me" target="_blank" title="github"></a>
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                </div>
            </div>
        </div>
    </div>
    <a href="#" class="internal back-to-top">Back to Top</a>
</footer>

    </div>

    <script>
$(document).ready(function () {
    var offset = 50,
        duration = 500,
        width = 960;
    $(window).scroll(function () {
        if ($(window).width() > width) {
            if ($(this).scrollTop() > offset) {
                $('footer').css('top', '20px');
                $('footer .back-to-top').fadeIn(duration);
            } else {
                $('footer').css('top', 'auto');
                $('footer .back-to-top').fadeOut(duration);
            }
        }
    });
    $(window).resize(function () {
        if ($(window).width() < width) {
            $('footer').css('top', 'auto');
            $('footer .back-to-top').fadeOut(duration);
        }
        if ($(window).width() >= width && $(this).scrollTop() > offset) {
            $('footer').css('top', '20px');
            $('footer .back-to-top').fadeIn(duration);
        }
    });

    $('footer .back-to-top, .gotop').on('click', function (event) {
        event.preventDefault();
        $('html, body').animate({
            scrollTop: 0
        }, duration);
        return false;
    });

    $('.show-hidden').on('click', function () {
        $(this).parent().next().toggleClass("hidden");
        $(this).toggleClass("hidden");
    });
});
</script>

<!-- Google Analytics Event tracking -->


<!-- Show menu overlay + Jekyll Simple Search option -->
<script src="/assets/javascripts/jekyll-search.jquery.js"></script>
<script>
$(document).ready(function () {
    $('.search-field').simpleJekyllSearch({
      jsonFile: '/search.json',
      template: '<li><a href="{url}">{title} <span class="entry-date"><time datetime="{date}">{shortdate}</time></span></a></li>',
      searchResults: '.search-wrapper .results',
      searchResultsTitle: '<h4>Search results</h4>',
      noResults: '<p>Oh shucks<br/><small>Nothing found :(</small></p>'
    });
});

(function ($, window, undefined) {
    var closeOverlay = function () {
        $('.nav-wrapper, .search-wrapper').removeAttr('style');
        $(".nav-form, .search-form").removeClass('active');
        $("body").removeClass('nav-overlay search-overlay');
    };

    $('.nav-global .btn-search').on('click', function () {
        $('.search-wrapper').css({display: "block"});
        $(".search-form").addClass('active');
        $(".search-form").find('input').focus();
        $("body").addClass('search-overlay');
    });

    $('.nav-global .btn-menu').on('click', function () {
        $('.nav-wrapper').css({display: "block"});
        $(".nav-form").addClass('active');
        $(".nav-form .search-field").prop('disabled', true);
        $("body").addClass('nav-overlay');
    });

    $('.nav-wrapper .btn-close, .search-wrapper .btn-close').on('click', function () {
        closeOverlay();
    });

    $(document).on('keyup', function (e) {
        if (e.keyCode === 27) {
            closeOverlay();
        }
    });
})(jQuery, window);
</script>

<script src='//cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.js'></script>
<script src='//cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-buttons.min.js'></script>
<script src="/assets/javascripts/unveil/jquery.unveil.min.js"></script>

<script>
    window.jQuery.fancybox || document.write('<script src="/assets/javascripts/fancybox/jquery.fancybox.pack.js?v=2.1.4"><\/script>')
    window.jQuery.fancybox.helpers.buttons || document.write('<script src="/assets/javascripts/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"><\/script>')
</script>

<script>
    $("head").append('<link rel="stylesheet" href="/assets/javascripts/fancybox/jquery.fancybox.css?v=2.1.4" type="text/css" />');
    $("head").append('<link rel="stylesheet" href="/assets/javascripts/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5" type="text/css" />');
    $(".post-image").fancybox({
        prevEffect: 'none',
        nextEffect: 'none',
        closeBtn: true,
        helpers: {
            title: {
                type: 'float'
            }
        }
    });
    $(document).ready(function () {
        $(".post-image > img").unveil(450);
    });
</script>

</body>

</html>